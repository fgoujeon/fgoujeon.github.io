<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Maki: maki::machine&lt; Conf &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Maki
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classmaki_1_1machine.html','','classmaki_1_1machine-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">maki::machine&lt; Conf &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The state machine implementation template.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="machine_8hpp_source.html">maki/machine.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-types" class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a54dcd35428e982eefaecfa1bb4db54d7" id="r_a54dcd35428e982eefaecfa1bb4db54d7"><td class="memItemLeft" align="right" valign="top"><a id="a54dcd35428e982eefaecfa1bb4db54d7" name="a54dcd35428e982eefaecfa1bb4db54d7"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>context_type</b> = IMPLEMENTATION_DETAIL</td></tr>
<tr class="memdesc:a54dcd35428e982eefaecfa1bb4db54d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The context type given to <span class="tt"><a class="el" href="classmaki_1_1machine__conf.html#a429ce287b378d4c03f773aa8ea64f949" title="Sets the type of the context (see signatures).">maki::machine_conf::context_a()</a></span> or its variants. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab5cfac47e4ebe3dff1840514b0fb1662" id="r_ab5cfac47e4ebe3dff1840514b0fb1662"><td class="memItemLeft" align="right" valign="top"><a id="ab5cfac47e4ebe3dff1840514b0fb1662" name="ab5cfac47e4ebe3dff1840514b0fb1662"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>machine</b> (const <a class="el" href="classmaki_1_1machine.html">machine</a> &amp;)=delete</td></tr>
<tr class="memitem:a0a324d76e79c7c41807653861d276f02" id="r_a0a324d76e79c7c41807653861d276f02"><td class="memTemplParams" colspan="2">template&lt;class... ContextArgs&gt; </td></tr>
<tr class="memitem:a0a324d76e79c7c41807653861d276f02 template"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a324d76e79c7c41807653861d276f02">machine</a> (ContextArgs &amp;&amp;... ctx_args)</td></tr>
<tr class="memdesc:a0a324d76e79c7c41807653861d276f02"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor.  <br /></td></tr>
<tr class="memitem:ab826365119d6acd5f9fe2b6b357c4b4b" id="r_ab826365119d6acd5f9fe2b6b357c4b4b"><td class="memItemLeft" align="right" valign="top"><a id="ab826365119d6acd5f9fe2b6b357c4b4b" name="ab826365119d6acd5f9fe2b6b357c4b4b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>machine</b> (<a class="el" href="classmaki_1_1machine.html">machine</a> &amp;&amp;)=delete</td></tr>
<tr class="memitem:a7e2c1ee4f2da55e13388bc00de13a1d0" id="r_a7e2c1ee4f2da55e13388bc00de13a1d0"><td class="memTemplParams" colspan="2">template&lt;class Event&gt; </td></tr>
<tr class="memitem:a7e2c1ee4f2da55e13388bc00de13a1d0 template"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e2c1ee4f2da55e13388bc00de13a1d0">check_event</a> (const Event &amp;event) const</td></tr>
<tr class="memdesc:a7e2c1ee4f2da55e13388bc00de13a1d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether calling <span class="tt">process_event(event)</span> would cause a state transition or a call to any action.  <br /></td></tr>
<tr class="memitem:ac903098bea81789cf1be2a75c74bc862" id="r_ac903098bea81789cf1be2a75c74bc862"><td class="memItemLeft" align="right" valign="top"><a id="ac903098bea81789cf1be2a75c74bc862" name="ac903098bea81789cf1be2a75c74bc862"></a>
<a class="el" href="#a54dcd35428e982eefaecfa1bb4db54d7">context_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>context</b> ()</td></tr>
<tr class="memdesc:ac903098bea81789cf1be2a75c74bc862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the context instantiated at construction. <br /></td></tr>
<tr class="memitem:ae09d9894053c81f4552415544b4e99f0" id="r_ae09d9894053c81f4552415544b4e99f0"><td class="memItemLeft" align="right" valign="top"><a id="ae09d9894053c81f4552415544b4e99f0" name="ae09d9894053c81f4552415544b4e99f0"></a>
const <a class="el" href="#a54dcd35428e982eefaecfa1bb4db54d7">context_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>context</b> () const</td></tr>
<tr class="memdesc:ae09d9894053c81f4552415544b4e99f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the context instantiated at construction. <br /></td></tr>
<tr class="memitem:a044f35ace42314a02a7c43d22b152ead" id="r_a044f35ace42314a02a7c43d22b152ead"><td class="memTemplParams" colspan="2"><a id="a044f35ace42314a02a7c43d22b152ead" name="a044f35ace42314a02a7c43d22b152ead"></a>
template&lt;const auto &amp; StateMold&gt; </td></tr>
<tr class="memitem:a044f35ace42314a02a7c43d22b152ead template"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><b>is</b> () const</td></tr>
<tr class="memdesc:a044f35ace42314a02a7c43d22b152ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the state created by <span class="tt">StateMold</span> is active in the region of the state machine. Only valid if machine is only made of one region. <br /></td></tr>
<tr class="memitem:a95d5cac1d9f54494fc6751a3b79713f2" id="r_a95d5cac1d9f54494fc6751a3b79713f2"><td class="memItemLeft" align="right" valign="top"><a id="a95d5cac1d9f54494fc6751a3b79713f2" name="a95d5cac1d9f54494fc6751a3b79713f2"></a>
<a class="el" href="classmaki_1_1machine.html">machine</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classmaki_1_1machine.html">machine</a> &amp;)=delete</td></tr>
<tr class="memitem:a33a0ce9e929fca0d19e887052f049fa7" id="r_a33a0ce9e929fca0d19e887052f049fa7"><td class="memItemLeft" align="right" valign="top"><a id="a33a0ce9e929fca0d19e887052f049fa7" name="a33a0ce9e929fca0d19e887052f049fa7"></a>
<a class="el" href="classmaki_1_1machine.html">machine</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classmaki_1_1machine.html">machine</a> &amp;&amp;)=delete</td></tr>
<tr class="memitem:a1a302486e82bc0ecc021ae1ccb38f44c" id="r_a1a302486e82bc0ecc021ae1ccb38f44c"><td class="memTemplParams" colspan="2">template&lt;class Event&gt; </td></tr>
<tr class="memitem:a1a302486e82bc0ecc021ae1ccb38f44c template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c">process_event</a> (const Event &amp;event)</td></tr>
<tr class="memdesc:a1a302486e82bc0ecc021ae1ccb38f44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the given event.  <br /></td></tr>
<tr class="memitem:ad82be3820fa8a07a1c179f37b1932f6b" id="r_ad82be3820fa8a07a1c179f37b1932f6b"><td class="memTemplParams" colspan="2"><a id="ad82be3820fa8a07a1c179f37b1932f6b" name="ad82be3820fa8a07a1c179f37b1932f6b"></a>
template&lt;class Event&gt; </td></tr>
<tr class="memitem:ad82be3820fa8a07a1c179f37b1932f6b template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><b>process_event_no_catch</b> (const Event &amp;event)</td></tr>
<tr class="memdesc:ad82be3820fa8a07a1c179f37b1932f6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <span class="tt"><a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c" title="Processes the given event.">process_event()</a></span>, but doesn't catch exceptions, even if <span class="tt"><a class="el" href="classmaki_1_1machine__conf.html#a2a91c2fa3d39ee4251457bec646f1bfe" title="Sets up a try/catch(...) block at the top-level of every non-const member function of maki::machine a...">maki::machine_conf::catch_mx()</a></span> is set. <br /></td></tr>
<tr class="memitem:aefec3a5ea86c6e79b48391615095c7a5" id="r_aefec3a5ea86c6e79b48391615095c7a5"><td class="memTemplParams" colspan="2">template&lt;class Event&gt; </td></tr>
<tr class="memitem:aefec3a5ea86c6e79b48391615095c7a5 template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefec3a5ea86c6e79b48391615095c7a5">process_event_now</a> (const Event &amp;event)</td></tr>
<tr class="memdesc:aefec3a5ea86c6e79b48391615095c7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <span class="tt"><a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c" title="Processes the given event.">maki::machine::process_event()</a></span>, but doesn't check if an event is being processed.  <br /></td></tr>
<tr class="memitem:ae1cd655fd6e60bc833ccfffc5f3162a2" id="r_ae1cd655fd6e60bc833ccfffc5f3162a2"><td class="memTemplParams" colspan="2">template&lt;class Event&gt; </td></tr>
<tr class="memitem:ae1cd655fd6e60bc833ccfffc5f3162a2 template"><td class="memItemLeft" align="right" valign="top">MAKI_NOINLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1cd655fd6e60bc833ccfffc5f3162a2">push_event</a> (const Event &amp;event)</td></tr>
<tr class="memdesc:ae1cd655fd6e60bc833ccfffc5f3162a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues event for later processing.  <br /></td></tr>
<tr class="memitem:ac9d200ec90d24adc2438c2326849e141" id="r_ac9d200ec90d24adc2438c2326849e141"><td class="memTemplParams" colspan="2"><a id="ac9d200ec90d24adc2438c2326849e141" name="ac9d200ec90d24adc2438c2326849e141"></a>
template&lt;int Index&gt; </td></tr>
<tr class="memitem:ac9d200ec90d24adc2438c2326849e141 template"><td class="memItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>region</b> () const</td></tr>
<tr class="memdesc:ac9d200ec90d24adc2438c2326849e141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <span class="tt"><a class="el" href="classmaki_1_1region.html" title="Represents an region.">maki::region</a></span> object at index <span class="tt">Index</span>. <br /></td></tr>
<tr class="memitem:ace98b8772404882cc6e93e2ab14906da" id="r_ace98b8772404882cc6e93e2ab14906da"><td class="memItemLeft" align="right" valign="top"><a id="ace98b8772404882cc6e93e2ab14906da" name="ace98b8772404882cc6e93e2ab14906da"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>running</b> () const</td></tr>
<tr class="memdesc:ace98b8772404882cc6e93e2ab14906da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the region of the state machine is running. This function can only be called if the state machine contains only one region. <br /></td></tr>
<tr class="memitem:af79f38894fe22a18e1f2d3fc24ef335b" id="r_af79f38894fe22a18e1f2d3fc24ef335b"><td class="memTemplParams" colspan="2">template&lt;class Event = events::start&gt; </td></tr>
<tr class="memitem:af79f38894fe22a18e1f2d3fc24ef335b template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af79f38894fe22a18e1f2d3fc24ef335b">start</a> (const Event &amp;event={})</td></tr>
<tr class="memdesc:af79f38894fe22a18e1f2d3fc24ef335b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the state machine.  <br /></td></tr>
<tr class="memitem:a3a072a797de651198ca1c218a565c306" id="r_a3a072a797de651198ca1c218a565c306"><td class="memTemplParams" colspan="2"><a id="a3a072a797de651198ca1c218a565c306" name="a3a072a797de651198ca1c218a565c306"></a>
template&lt;const auto &amp; StateMold&gt; </td></tr>
<tr class="memitem:a3a072a797de651198ca1c218a565c306 template"><td class="memItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>state</b> () const</td></tr>
<tr class="memdesc:a3a072a797de651198ca1c218a565c306"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <span class="tt"><a class="el" href="classmaki_1_1state.html" title="Represents a state.">maki::state</a></span> object created by <span class="tt">StateMold</span> (of type <span class="tt"><a class="el" href="classmaki_1_1state__mold.html" title="State mold.">maki::state_mold</a></span>). Only valid if machine is only made of one region. <br /></td></tr>
<tr class="memitem:a2e0f50a1d9b245a7ff1b92f6630c835b" id="r_a2e0f50a1d9b245a7ff1b92f6630c835b"><td class="memTemplParams" colspan="2">template&lt;class Event = events::stop&gt; </td></tr>
<tr class="memitem:a2e0f50a1d9b245a7ff1b92f6630c835b template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e0f50a1d9b245a7ff1b92f6630c835b">stop</a> (const Event &amp;event={})</td></tr>
<tr class="memdesc:a2e0f50a1d9b245a7ff1b92f6630c835b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the state machine.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-attribs" class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a9a8d37af38bc125ac636a4c0f53162ef" id="r_a9a8d37af38bc125ac636a4c0f53162ef"><td class="memItemLeft" align="right" valign="top"><a id="a9a8d37af38bc125ac636a4c0f53162ef" name="a9a8d37af38bc125ac636a4c0f53162ef"></a>
static constexpr const auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>conf</b> = Conf</td></tr>
<tr class="memdesc:a9a8d37af38bc125ac636a4c0f53162ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">The state machine configuration. <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;const auto &amp; Conf&gt;<br />
class maki::machine&lt; Conf &gt;</div><p>The state machine implementation template. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Conf</td><td>the state machine configuration, with defined <span class="tt">transition_tables</span> and <span class="tt">context</span> options</td></tr>
  </table>
  </dd>
</dl>
<p>Here is an example of valid state machine definition, where:</p><ul>
<li><span class="tt"><a class="el" href="classmaki_1_1transition__table.html" title="Represents a transition table.">transition_table</a></span> is a user-provided <span class="tt">constexpr</span> instance of a <span class="tt"><a class="el" href="classmaki_1_1transition__table.html" title="Represents a transition table.">maki::transition_table</a></span> type;</li>
<li><span class="tt">context</span> is a user-provided class.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">constexpr</span> <span class="keyword">auto</span> machine_conf = <a class="code hl_class" href="classmaki_1_1machine__conf.html">maki::machine_conf</a>{}</div>
<div class="line">    .<a class="code hl_function" href="classmaki_1_1machine__conf.html#a1109f760a91762e78f2ec1143f46301e">transition_tables</a>(transition_table)</div>
<div class="line">    .context_a&lt;context&gt;()</div>
<div class="line">;</div>
</div><!-- fragment --><p>The state machine type itself can then be defined like so: </p><div class="fragment"><div class="line"><span class="keyword">using </span>machine_t = <a class="code hl_class" href="classmaki_1_1machine.html">maki::machine&lt;machine_conf&gt;</a>;</div>
</div><!-- fragment --> </div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0a324d76e79c7c41807653861d276f02" name="a0a324d76e79c7c41807653861d276f02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a324d76e79c7c41807653861d276f02">&#9670;&#160;</a></span>machine()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const auto &amp; Conf&gt; </div>
<div class="memtemplate">
template&lt;class... ContextArgs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmaki_1_1machine.html">maki::machine</a>&lt; Conf &gt;::machine </td>
          <td>(</td>
          <td class="paramtype">ContextArgs &amp;&amp;...</td>          <td class="paramname"><span class="paramname"><em>ctx_args</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx_args</td><td>the arguments to be forwarded to the constructor of the root context</td></tr>
  </table>
  </dd>
</dl>
<p>The constructor first instantiates all the contexts defined in the state machine, starting with the root context (i.e. the context specified in the <span class="tt"><a class="el" href="classmaki_1_1machine__conf.html" title="maki::machine configuration">maki::machine_conf</a></span> object).</p>
<p>Finally, unless <span class="tt"><a class="el" href="classmaki_1_1machine__conf.html#a32d720631bd80834dac4af742d25bd93" title="Specifies whether the constructor of maki::machine must call maki::machine::start().">maki::machine_conf::auto_start()</a></span> is set to <span class="tt">false</span>, <span class="tt"><a class="el" href="#af79f38894fe22a18e1f2d3fc24ef335b" title="Starts the state machine.">maki::machine::start()</a></span> is called. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a7e2c1ee4f2da55e13388bc00de13a1d0" name="a7e2c1ee4f2da55e13388bc00de13a1d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e2c1ee4f2da55e13388bc00de13a1d0">&#9670;&#160;</a></span>check_event()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const auto &amp; Conf&gt; </div>
<div class="memtemplate">
template&lt;class Event&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmaki_1_1machine.html">maki::machine</a>&lt; Conf &gt;::check_event </td>
          <td>(</td>
          <td class="paramtype">const Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether calling <span class="tt">process_event(event)</span> would cause a state transition or a call to any action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to be checked</td></tr>
  </table>
  </dd>
</dl>
<p>This function is useful for checking whether an event is valid or not, given the current state of the state machine and guard checks against the event itself.</p>
<p>Note: Run-to-completion mechanism is bypassed and exceptions are not caught. </p>

</div>
</div>
<a id="a1a302486e82bc0ecc021ae1ccb38f44c" name="a1a302486e82bc0ecc021ae1ccb38f44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a302486e82bc0ecc021ae1ccb38f44c">&#9670;&#160;</a></span>process_event()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const auto &amp; Conf&gt; </div>
<div class="memtemplate">
template&lt;class Event&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmaki_1_1machine.html">maki::machine</a>&lt; Conf &gt;::process_event </td>
          <td>(</td>
          <td class="paramtype">const Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes the given event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to be processed</td></tr>
  </table>
  </dd>
</dl>
<p>It's hard to describe all the things this function does, as it is the point of the whole library, but let's try to list the basic stuff with the following pseudocode: </p><div class="fragment"><div class="line"><span class="comment">//Run-to-completion: Don&#39;t let potential recursive calls interrupt the</span></div>
<div class="line"><span class="comment">//current processing.</span></div>
<div class="line"><span class="keywordflow">if</span>(processing_event)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="#ae1cd655fd6e60bc833ccfffc5f3162a2">push_event</a>(event);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Process the event.</span></div>
<div class="line">FOR_EACH_REGION()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//Process event in active state.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">bool</span> processed = CALL_ACTIVE_STATE_INTERNAL_ACTION();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(!processed)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//Process event in transition table.</span></div>
<div class="line">        FOR_EACH_TRANSITION_IN_REGION_TRANSITION_TABLE()</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span></div>
<div class="line">            (</div>
<div class="line">                IS_ACTIVE_STATE(source_state) &amp;&amp;</div>
<div class="line">                SAME_TYPE(Event, event_type) &amp;&amp;</div>
<div class="line">                GUARD() == <span class="keyword">true</span></div>
<div class="line">            )</div>
<div class="line">            {</div>
<div class="line">                SET_ACTIVE_STATE(<a class="code hl_variable" href="namespacemaki.html#ae8bf139fa9ac4bf5ff6ebc03ad0f478a">maki::undefined</a>);</div>
<div class="line">                CALL_EXIT_ACTION(source_state);</div>
<div class="line">                CALL_TRANSITION_ACTION();</div>
<div class="line">                CALL_ENTRY_ACTION(target_state);</div>
<div class="line">                SET_ACTIVE_STATE(target_state);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Run-to-completion: Process pending events the same way</span></div>
<div class="line">process_pending_events();</div>
<div class="ttc" id="aclassmaki_1_1machine_html_ae1cd655fd6e60bc833ccfffc5f3162a2"><div class="ttname"><a href="#ae1cd655fd6e60bc833ccfffc5f3162a2">maki::machine::push_event</a></div><div class="ttdeci">MAKI_NOINLINE void push_event(const Event &amp;event)</div><div class="ttdoc">Enqueues event for later processing.</div><div class="ttdef"><b>Definition</b> machine.hpp:310</div></div>
<div class="ttc" id="anamespacemaki_html_ae8bf139fa9ac4bf5ff6ebc03ad0f478a"><div class="ttname"><a href="namespacemaki.html#ae8bf139fa9ac4bf5ff6ebc03ad0f478a">maki::undefined</a></div><div class="ttdeci">constexpr auto undefined</div><div class="ttdoc">The state mold of the undefined state.</div><div class="ttdef"><b>Definition</b> states.hpp:28</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="aefec3a5ea86c6e79b48391615095c7a5" name="aefec3a5ea86c6e79b48391615095c7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefec3a5ea86c6e79b48391615095c7a5">&#9670;&#160;</a></span>process_event_now()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const auto &amp; Conf&gt; </div>
<div class="memtemplate">
template&lt;class Event&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmaki_1_1machine.html">maki::machine</a>&lt; Conf &gt;::process_event_now </td>
          <td>(</td>
          <td class="paramtype">const Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like <span class="tt"><a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c" title="Processes the given event.">maki::machine::process_event()</a></span>, but doesn't check if an event is being processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to be processed</td></tr>
  </table>
  </dd>
</dl>
<p><b>USE WITH CAUTION!</b></p>
<p>You can call this function if you're <b>absolutely</b> sure that you're not calling this function while <span class="tt"><a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c" title="Processes the given event.">maki::machine::process_event()</a></span> is being called. Otherwise, <b>run-to-completion will be broken</b>.</p>
<p>Compared to <span class="tt"><a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c" title="Processes the given event.">maki::machine::process_event()</a></span>, this function is:</p><ul>
<li>faster to build, because the <span class="tt"><a class="el" href="#ae1cd655fd6e60bc833ccfffc5f3162a2" title="Enqueues event for later processing.">maki::machine::push_event()</a></span> function template won't be instantiated;</li>
<li>faster to run, because an <span class="tt">if</span> statement is skipped.</li>
</ul>
<p><span class="tt"><a class="el" href="classmaki_1_1machine__conf.html#a08106090a3cd7e8b9a8fa96250c54570" title="Specifies whether the unsafe function maki::machine::process_event_now() can be called.">maki::machine_conf::process_event_now_enabled()</a></span> must be set to <span class="tt">true</span> for this function to be available. </p>

</div>
</div>
<a id="ae1cd655fd6e60bc833ccfffc5f3162a2" name="ae1cd655fd6e60bc833ccfffc5f3162a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cd655fd6e60bc833ccfffc5f3162a2">&#9670;&#160;</a></span>push_event()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const auto &amp; Conf&gt; </div>
<div class="memtemplate">
template&lt;class Event&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">MAKI_NOINLINE void <a class="el" href="classmaki_1_1machine.html">maki::machine</a>&lt; Conf &gt;::push_event </td>
          <td>(</td>
          <td class="paramtype">const Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueues event for later processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to be processed</td></tr>
  </table>
  </dd>
</dl>
<p>You can call this function instead of doing a recursive call to <a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c">process_event()</a>.</p>
<p>This function is slightly faster than <a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c">process_event()</a>, but if you're not sure what you're doing, just call <a class="el" href="#a1a302486e82bc0ecc021ae1ccb38f44c">process_event()</a> instead. </p>

</div>
</div>
<a id="af79f38894fe22a18e1f2d3fc24ef335b" name="af79f38894fe22a18e1f2d3fc24ef335b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79f38894fe22a18e1f2d3fc24ef335b">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const auto &amp; Conf&gt; </div>
<div class="memtemplate">
template&lt;class Event = events::start&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmaki_1_1machine.html">maki::machine</a>&lt; Conf &gt;::start </td>
          <td>(</td>
          <td class="paramtype">const Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the state machine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to be passed to the invoked actions, mainly the entry action of the initial state(s)</td></tr>
  </table>
  </dd>
</dl>
<p>Concretely, if the machine is not already running, exits the internal <span class="tt">stopped</span> state and enters the initial state.</p>
<p>Reminder: There's no need to call this function after the construction, unless <span class="tt"><a class="el" href="classmaki_1_1machine__conf.html#a32d720631bd80834dac4af742d25bd93" title="Specifies whether the constructor of maki::machine must call maki::machine::start().">maki::machine_conf::auto_start</a></span> is set to <span class="tt">false</span>. </p>

</div>
</div>
<a id="a2e0f50a1d9b245a7ff1b92f6630c835b" name="a2e0f50a1d9b245a7ff1b92f6630c835b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0f50a1d9b245a7ff1b92f6630c835b">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const auto &amp; Conf&gt; </div>
<div class="memtemplate">
template&lt;class Event = events::stop&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmaki_1_1machine.html">maki::machine</a>&lt; Conf &gt;::stop </td>
          <td>(</td>
          <td class="paramtype">const Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the state machine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to be passed to the invoked actions, mainly the exit action of the active state(s)</td></tr>
  </table>
  </dd>
</dl>
<p>Concretely, if the machine is running, exits the active state and enters the internal <span class="tt">stopped</span> state. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacemaki.html">maki</a></li><li class="navelem"><a href="classmaki_1_1machine.html">machine</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
